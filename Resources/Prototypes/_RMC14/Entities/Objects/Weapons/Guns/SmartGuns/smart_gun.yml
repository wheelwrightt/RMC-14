- type: entity
  parent: CMBaseWeaponRifle
  id: RMCSmartGun
  name: ML66A smart gun
  description: The actual firearm in the Smart Gun System. Essentially a heavy, mobile machinegun.
  components:
  - type: GunRequiresWield
  - type: Corrodible
    isCorrodible: false
  - type: GunIFF
  - type: WieldDelay
    baseDelay: 0.4
  - type: WieldableSpeedModifiers # TODO RMC14 I used arbitrary numbers check this later
    baseWalk: 0.63
    baseSprint: 0.63
  - type: Sprite
    sprite: _RMC14/Objects/Weapons/Guns/SmartGuns/smart_gun.rsi
    layers:
    - state: base
      map: [ "enum.GunVisualLayers.Base" ]
    - state: mag-0
      map: [ "enum.GunVisualLayers.Mag" ]
  - type: Clothing
    sprite: _RMC14/Objects/Weapons/Guns/SmartGuns/smart_gun.rsi
  - type: Gun
    minAngle: 0
    maxAngle: 10
    angleIncrease: 1
    angleDecay: 1
    fireRate: 5
    selectedMode: FullAuto
    availableModes:
    - FullAuto
    soundGunshot:
      path: /Audio/Weapons/Guns/Gunshots/lmg.ogg
    soundEmpty:
      path: /Audio/Weapons/Guns/Empty/lmg_empty.ogg
  - type: GunWieldBonus # can only be fired wielded
    minAngle: 0
    maxAngle: 0
    angleIncrease: 0
    angleDecay: 0
  - type: ContainerContainer
    containers:
      gun_magazine: !type:ContainerSlot
      gun_chamber: !type:ContainerSlot
      cell_slot: !type:ContainerSlot { }
  - type: PowerCellSlot
    cellSlotId: cell_slot
  - type: ItemSlots
    slots:
      gun_magazine:
        name: Magazine
        startingItem: RMCMagazineSmartGun
        insertSound: /Audio/Weapons/Guns/MagIn/batrifle_magin.ogg
        ejectSound: /Audio/Weapons/Guns/MagOut/batrifle_magout.ogg
        priority: 2
        whitelist:
          tags:
          - RMCMagazineSmartGun
      cell_slot:
        name: power-cell-slot-component-slot-name-default
        startingItem: RMCPowerCellSmartgun
  - type: GunDamageModifier
    multiplier: 1
  - type: GunToggleableAmmo
    settings:
    - damage:
        types:
          Piercing: 30
      armorPiercing: 0
      name: rmc-toggleable-ammo-highly-precise
      icon:
        sprite: _RMC14/Actions/marine_smart_gun_actions.rsi
        state: ammo_swap_normal
    - damage:
        types:
          Piercing: 20
      armorPiercing: 40
      name: rmc-toggleable-ammo-armor-shredding
      icon:
        sprite: _RMC14/Actions/marine_smart_gun_actions.rsi
        state: ammo_swap_ap
  - type: RMCMagneticItem
  - type: GunRequiresSkills
    skills:
      smartGun: 1
  - type: GunSkilledRecoil
    skills:
      firearms: 100
  - type: GunDrainBatteryOnShoot
  - type: GunRequireEquipped
    whitelist:
      components:
      - SmartGunArmor
  - type: GunToggleableRecoil
  - type: GunToggleableAutoFire
  - type: SmartGun
